<!DOCTYPE html>
<html lang="en">
    <!-- Mirrored from smartshop.websitelayout.net/admin/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 03 Jan 2023 16:00:16 GMT -->
    <heads>
        <!-- metas -->
        <meta charset="utf-8" />
        <meta name="author" content="Chitrakoot Web" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <meta name="keywords" content="admin,dashboard" />
        <meta name="description" content="Smartshop - Responsive eCommerce Admin Dashboard" />

        <!-- title  -->
        <title>Smartshop - Responsive eCommerce Admin Dashboard</title>
        <script src="https://kit.fontawesome.com/624938e563.js" crossorigin="anonymous"></script>
        <!-- bootstrap -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
            crossorigin="anonymous"
        />

        <!-- favicon -->
        <link rel="shortcut icon" href="/images/admin/logos/favicon-16x16.png" />
        <link rel="apple-touch-icon" href="/images/admin/logos/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="/images/admin/logos/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="/images/admin/logos/apple-touch-icon-114x114.png" />

        <!-- common plugins -->
        <link rel="stylesheet" href="/plugins/admin/bootstrap/css/bootstrap.min.css" />
        <link rel="stylesheet" href="/plugins/admin/font-awesome/css/font-awesome.min.css" />
        <link rel="stylesheet" href="/plugins/admin/icomoon/style.css" />
        <link rel="stylesheet" href="/plugins/admin/uniform/css/default.css" />
        <link rel="stylesheet" href="/plugins/admin/switchery/switchery.min.css" />

        <!-- table css -->
        <link rel="stylesheet" href="https://cdn.datatables.net/1.13.2/css/jquery.dataTables.min.css" />
        <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.4/css/buttons.dataTables.min.css" />

        <!-- table js -->
        <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
        <script
            type="text/javascript"
            language="javascript"
            src="https://cdn.datatables.net/1.13.2/js/jquery.dataTables.min.js"
        ></script>
        <script
            type="text/javascript"
            language="javascript"
            src="https://cdn.datatables.net/buttons/2.3.4/js/dataTables.buttons.min.js"
        ></script>
        <script
            type="text/javascript"
            language="javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"
        ></script>
        <script
            type="text/javascript"
            language="javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"
        ></script>
        <script
            type="text/javascript"
            language="javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"
        ></script>
        <script
            type="text/javascript"
            language="javascript"
            src="https://cdn.datatables.net/buttons/2.3.4/js/buttons.html5.min.js"
        ></script>
        <script
            type="text/javascript"
            language="javascript"
            src="https://cdn.datatables.net/buttons/2.3.4/js/buttons.print.min.js"
        ></script>

        <!-- theme core css -->
        <link rel="stylesheet" href="/stylesheet/admin/style.css" />
    </heads>

    <body>
        <!-- PAGE LOADING
    ================================================== -->
        <div id="preloader"></div>

        <!-- PAGE CONTAINER
    ================================================== -->
        <div class="page-container">
            <%- include("../includes/admin-sidebar.ejs") %>
            <div class="page-content">
                <!-- PAGE HEADER
            ================================================== -->
                <%- include("../includes/admin_header.ejs") %>

                <!-- PAGE INNER
            ================================================== -->
                <div class="page-inner">
                    <!-- PAGE MAIN WRAPPER
                ================================================== -->
                    <div id="main-wrapper">
                        <!-- row -->
                        <div class="row">
                            <div class="col-xl-3 col-md-6 half-gutter grid-margin">
                                <div class="card card-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <div>
                                                <a href="/admin/report"><h4 class="mb-0 text-blue">Yearly Report</h4></a>
                                            </div>
                                            <div>
                                                <i class="fas fa-chart-pie text-blue fs-2"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-md-6 half-gutter grid-margin">
                                <div class="card card-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <div>
                                                <a onclick="month()">
                                                    <h4 class="mb-0 text-orange">Month Report</h4>
                                                </a>
                                                <!-- <p class="text-muted mb-0">Net Profit</p> -->
                                            </div>
                                            <div>
                                                <i class="fas fa-chart-pie text-orange fs-2"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-md-6 half-gutter grid-margin">
                                <div class="card card-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <div>
                                                <h4 class="mb-0 text-green">00</h4>
                                                <p class="text-muted mb-0">Total Customers</p>
                                            </div>
                                            <div>
                                                <i class="far fa-user text-green fs-2"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-md-6 half-gutter grid-margin">
                                <div class="card card-white">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <div>
                                                <a onclick="dailysale()"> <h4 class="mb-0 text-pink">Daily Report</h4></a>
                                            </div>
                                            <div>
                                                <i class="far fa-heart text-pink fs-2"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 grid-margin">
                                <div class="card card-white h-100">
                                    <div class="card-heading clearfix">
                                        <h4 id="headng" class="card-title">Year Transaction</h4>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table id="example" class="table mb-0">
                                                <thead class="bg-light">
                                                    <tr>
                                                        <!-- <th>Order ID</th> -->
                                                        <th>Date</th>
                                                        <th>Total Order</th>
                                                        <th>Total Product</th>
                                                        <th>Total</th>
                                                        <th>Profit</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="tableVa">
                                                    <% for (let report of yearly) { %>
                                                    <tr>
                                                        <td><a href="#"><%=report._id.year%></a></td>
                                                        <td><%=report.count%></td>
                                                        <td><%=report.items%></td>
                                                        <td>$<%=report.total%>.00</td>
                                                        <td>$<%=(report.total*15)/100%></td>
                                                        <!-- <td>$400</td> -->
                                                        <%}%>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="page-footer">
                        <p>Copyright &copy; <span class="current-year"></span> Gigant Elektra All rights reserved.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCROLL TO TOP
    ================================================== -->
        <a href="#" class="scroll-to-top"><i class="fas fa-angle-up" aria-hidden="true"></i></a>

        <!-- ALL JS INCLUDE
    ================================================== -->
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
            crossorigin="anonymous"
        ></script>

        <!-- axios cdn -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.3/axios.min.js"></script>

        <!-- sweet alert cdn -->
        <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <script>
            $(document).ready(function () {
                $("#example").DataTable({
                    dom: "Bfrtip",
                    buttons: ["excel", "pdf"],
                });
            });

            function month() {
                axios({
                    method: "post",
                    url: "/admin/salesresport",
                })
                    .then((result) => {
                        console.log(11111);
                        if (result.data.error) {
                            console.log(22);
                        } else {
                            console.log(1111111);
                            let html = "";
                            let saleReport = result.data.salesRep;
                            saleReport.forEach((element) => {
                                html += `<tr>
                                                                                <td><a href="#">${
                                                                                    element._id.month
                                                                                }</a></td>
                                                                                <td>${element.count}</td>
                                                                                <td>${element.items}</td>
                                                                                <td>$${element.total}.00</td>
                                                                                <td>$${(element.total * 15) / 100}</td>
                                                                            </tr>`;
                            });
                            document.getElementById("tableVa").innerHTML = html;
                            document.getElementById("headng").innerHTML = "Month Transaction";
                        }
                    })
                    .catch((err) => {
                        console.log(err);
                    });
            }
            function dailysale() {
                axios({
                    method: "post",
                    url: "/admin/dailyreport",
                })
                    .then((result) => {
                        console.log(11111);
                        if (result.data.error) {
                            console.log(22);
                        } else {
                            console.log(1111111);
                            let html = "";
                            let saleReport = result.data.daily;
                            saleReport.forEach((element) => {
                                html += `<tr>
                                                                                <td><a href="#">${element._id.Day}/${
                                    element._id.Month
                                }/${element._id.Year}</a></td>
                                                                                <td>${element.count}</td>
                                                                                <td>${element.items}</td>
                                                                                <td>$${element.Total}.00</td>
                                                                                <td>$${(element.Total * 15) / 100}</td>
                                                                            </tr>`;
                            });
                            document.getElementById("tableVa").innerHTML = html;
                            document.getElementById("headng").innerHTML = "Daily Transaction";
                        }
                    })
                    .catch((err) => {
                        console.log(err);
                    });
            }
        </script>

        <!-- <script src="/plugins/admin/jquery/jquery.min.js"></script> -->

        <!-- popper -->
        <script src="/plugins/admin/popper/js/popper.min.js"></script>

        <!-- bootstrap -->
        <script src="/plugins/admin/bootstrap/js/bootstrap.min.js"></script>

        <!-- slimscroll -->
        <script src="/plugins/admin/jquery-slimscroll/jquery.slimscroll.min.js"></script>

        <!-- uniform -->
        <script src="/plugins/admin/uniform/js/jquery.uniform.standalone.js"></script>

        <!-- switchery -->
        <script src="/plugins/admin/switchery/switchery.min.js"></script>

        <!-- apex chart -->
        <script src="/plugins/admin/apexcharts/apexcharts.js"></script>

        <!-- chart js -->
        <script src="/js/admin/pages/chart.js"></script>

        <!-- theme core scripts -->
        <script src="/js/admin/main.js"></script>

        <!-- all js include end -->
    </body>

    <!-- Mirrored from smartshop.websitelayout.net/admin/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 03 Jan 2023 16:00:28 GMT -->
</html>
