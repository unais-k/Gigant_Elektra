<!DOCTYPE html>
<html lang="en">
    <!-- Mirrored from smartshop.websitelayout.net/admin/create-coupons by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 03 Jan 2023 16:01:00 GMT -->
    <head>
        <!-- metas -->
        <meta charset="utf-8" />
        <meta name="author" content="Chitrakoot Web" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <meta name="keywords" content="admin,dashboard" />
        <meta name="description" content="Smartshop - Responsive eCommerce Admin Dashboard" />

        <!-- title  -->
        <title>Smartshop - Responsive eCommerce Admin Dashboard</title>

        <!-- bootstrap -->

        <script src="https://kit.fontawesome.com/624938e563.js" crossorigin="anonymous"></script>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
            crossorigin="anonymous"
        />

        <!-- favicon -->
        <link rel="shortcut icon" href="/images/admin/logos/favicon.png" />
        <link rel="apple-touch-icon" href="/images/admin/logos/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="/images/admin/logos/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="/images/admin/logos/apple-touch-icon-114x114.png" />

        <!-- common plugins -->
        <link rel="stylesheet" href="/plugins/admin/bootstrap/css/bootstrap.min.css" />
        <link rel="stylesheet" href="/plugins/admin/font-awesome/css/font-awesome.min.css" />
        <link rel="stylesheet" href="/plugins/admin/icomoon/style.css" />
        <link rel="stylesheet" href="/plugins/admin/uniform/css/default.css" />
        <link rel="stylesheet" href="/plugins/admin/switchery/switchery.min.css" />

        <!-- datepicker css -->
        <link rel="stylesheet" href="/plugins/admin/bootstrap-datepicker/css/datepicker.css" />

        <!-- theme core css -->
        <link rel="stylesheet" href="/stylesheet/admin/style.css" />
    </head>

    <body>
        <!-- PAGE LOADING
    ================================================== -->
        <div id="preloader"></div>

        <!-- PAGE CONTAINER
    ================================================== -->
        <div class="page-container">
            <%- include("../includes/admin-sidebar.ejs") %>
            <div class="page-content">
                <!-- PAGE HEADER
              ================================================== -->
                <%- include("../includes/admin_header.ejs") %>

                <!-- PAGE INNER
            ================================================== -->
                <div class="page-inner">
                    <!-- PAGE MAIN WRAPPER
                ================================================== -->
                    <div id="main-wrapper">
                        <!-- <form method="post" onsubmit="addCoupon()" action="/admin/addCoupon_post"> -->
                        <form id="form" onsubmit="addCoupon()">
                            <!-- row -->
                            <div class="row">
                                <div class="col-md-12 grid-margin">
                                    <div class="card card-white">
                                        <div class="card-heading clearfix">
                                            <h4 class="card-title">General</h4>
                                        </div>
                                        <div class="card-body">
                                            <div class="form-group">
                                                <label for="exampleInput1">Coupon Title</label>
                                                <input
                                                    type="text"
                                                    name="couponName"
                                                    class="form-control"
                                                    id="exampleInput1"
                                                />
                                            </div>
                                            <div class="form-group">
                                                <label for="exampleInput2">Coupon Code</label>
                                                <input
                                                    type="text"
                                                    name="couponCode"
                                                    class="form-control"
                                                    id="exampleInput2"
                                                />
                                            </div>
                                            <div class="form-group">
                                                <label>Start Date</label>
                                                <input type="date" name="startDate" class="form-control" />
                                            </div>
                                            <div class="form-group">
                                                <label>End Date</label>
                                                <input type="date" name="endDate" class="form-control" />
                                            </div>

                                            <div class="form-group">
                                                <label for="exampleInput3">Discount</label>
                                                <input
                                                    type="number"
                                                    name="discount"
                                                    class="form-control"
                                                    id="exampleInput3"
                                                />
                                            </div>
                                            <div class="form-group">
                                                <label for="exampleInput3">Quantity</label>
                                                <input
                                                    type="number"
                                                    name="quantity"
                                                    class="form-control"
                                                    id="exampleInput3"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-12 grid-margin">
                                    <div class="card card-white h-100">
                                        <div class="card-heading clearfix">
                                            <h4 class="card-title">Restriction</h4>
                                        </div>
                                        <div class="card-body">
                                            <div class="form-group">
                                                <label for="exampleInput5">Minimum Spend</label>
                                                <input
                                                    type="number"
                                                    name="minimumSpend"
                                                    class="form-control"
                                                    id="exampleInput5"
                                                />
                                            </div>
                                            <div class="form-group">
                                                <label for="exampleInput6">Maximum Spend</label>
                                                <input
                                                    type="number"
                                                    name="maxSpend"
                                                    class="form-control"
                                                    id="exampleInput6"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="col-md-6 grid-margin">
                                    <div class="card card-white h-100">
                                        <div class="card-heading clearfix">
                                            <h4 class="card-title">Usage Limits</h4>
                                        </div>
                                        <div class="card-body">
                                            <div class="form-group">
                                                <label for="exampleInput7">Per Limit</label>
                                                <input type="number" class="form-control" id="exampleInput7" />
                                            </div>
                                            <div class="form-group">
                                                <label for="exampleInput8">Per Customer</label>
                                                <input type="number" name="limit" class="form-control" id="exampleInput8" />
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                            </div>
                            <div class="mb-3">
                                <button type="submit" class="btn btn-primary">Submit</button>
                            </div>
                        </form>
                    </div>
                    <div class="page-footer mt-3">
                        <p>Copyright &copy; <span class="current-year"></span> Gigant Elektra All rights reserved.</p>
                    </div>
                </div>
            </div>
        </div>

        <a href="#" class="scroll-to-top"><i class="fas fa-angle-up" aria-hidden="true"></i></a>

        <!-- ALL JS INCLUDE
    ================================================== -->

        <!-- axios cdn  -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.3/axios.min.js"></script>

        <!-- sweet alert cdn -->
        <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <script>
            const Toast = Swal.mixin({
                toast: true,
                position: "top-end",
                showConfirmButton: false,
                timer: 1000,
                timerProgressBar: true,
                didOpen: (toast) => {
                    toast.addEventListener("mouseenter", Swal.stopTimer);
                    toast.addEventListener("mouseleave", Swal.resumeTimer);
                },
            });
            addCoupon = async () => {
                event.preventDefault();
                const formData = new FormData(event.target);
                const formProps = await Object.fromEntries(formData);
                console.log(formProps);
                axios.post("/admin/addCoupon_post", formProps).then(async (e) => {
                    if (e.data.status) {
                        await Swal.fire({
                            icon: "error",
                            title: "Oops...",
                            text: e.data.couponMsg,
                        });
                    } else if (e.data.success) {
                        await Toast.fire({
                            icon: "success",
                            title: "Coupen added successfully",
                        });
                        document.getElementById("form").reset();
                        // location.href = "/admin/addCoupon";
                    } else {
                        Swal.fire({
                            icon: "error",
                            title: "Oops...",
                            text: "Something went wrong",
                        });
                    }
                });
            };
        </script>

        <!-- jQuery -->
        <script src="/plugins/admin/jquery/jquery.min.js"></script>

        <!-- popper -->
        <script src="/plugins/admin/popper/js/popper.min.js"></script>

        <!-- bootstrap -->
        <script src="/plugins/admin/bootstrap/js/bootstrap.min.js"></script>

        <!-- slimscroll -->
        <script src="/plugins/admin/jquery-slimscroll/jquery.slimscroll.min.js"></script>

        <!-- uniform -->
        <script src="/plugins/admin/uniform/js/jquery.uniform.standalone.js"></script>

        <!-- switchery -->
        <script src="/plugins/admin/switchery/switchery.min.js"></script>

        <!-- datepicker -->
        <!-- <script src="/plugins/admin/bootstrap-datepicker/js/bootstrap-datepicker.js"></script> -->

        <!-- form elements -->
        <script src="/js/admin/pages/form-elements.js"></script>

        <!-- theme core scripts -->
        <script src="/js/admin/main.js"></script>

        <!-- all js include end -->
    </body>

    <!-- Mirrored from smartshop.websitelayout.net/admin/create-coupons by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 03 Jan 2023 16:01:00 GMT -->
</html>
